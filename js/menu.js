const data = {
   category: [
      {
         name: '상의',
         children: [
            { name: '신상', img: 'https://image.msscdn.net/images/category_img/men/ITEM_001_17406386410449_big.png' },
            { name: '무배당발', img: 'https://image.msscdn.net/display/images/common/2025/05/26/4e9cf13f96f94a26b5de2f9d359da9cb.png' },
            { name: '맨투맨/스웨트', img: 'https://image.msscdn.net/images/category_img/men/ITEM_001005_17507308584500_big.png' },
            { name: '후드', img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png' },
            { name: '셔츠/블라우스', img: 'https://image.msscdn.net/images/category_img/men/ITEM_001002_17508170341539_big.png' },
            { name: '긴소매 티셔츠', img: 'https://image.msscdn.net/images/category_img/men/ITEM_001010_17507308765242_big.png' },
            { name: '반소매 티셔츠', img: 'https://image.msscdn.net/images/category_img/men/ITEM_001001_17507308412077_big.png' },
            { name: '민소매 티셔츠', img: 'https://image.msscdn.net/images/category_img/men/ITEM_001011_17507309247568_big.png' },
            { name: '피케/카라 티셔츠', img: 'https://image.msscdn.net/images/category_img/men/ITEM_001003_17507309095526_big.png' },
            { name: '니트/스웨터', img: 'https://image.msscdn.net/images/category_img/men/ITEM_001006_17507308219255_big.png' },
            { name: '기타상의', img: 'https://image.msscdn.net/images/category_img/men/ITEM_001008_17507307695879_big.png' },
         ],
      },
      {
         name: '아우터',
         children: [
            { name: '신상', img: 'https://image.msscdn.net/images/category_img/men/ITEM_001_17406386410449_big.png' },
            { name: '무배당발', img: 'https://image.msscdn.net/display/images/common/2025/05/26/4e9cf13f96f94a26b5de2f9d359da9cb.png' },
            { name: '후드 집업', img: 'https://image.msscdn.net/images/category_img/men/ITEM_002022_17507315124164_big.png' },
            { name: '블루종/MA-1', img: 'https://image.msscdn.net/images/category_img/men/ITEM_002001_17507315434486_big.png' },
            { name: '레더/라이더스 재킷', img: 'https://image.msscdn.net/images/category_img/men/ITEM_002002_17507316665592_big.png' },
            { name: '카디건', img: 'https://image.msscdn.net/images/category_img/men/ITEM_002020_17507315723039_big.png' },
            { name: '트러커 재킷', img: 'https://image.msscdn.net/images/category_img/men/ITEM_002017_17507316323793_big.png' },
            { name: '슈트/블레이저 재킷', img: 'https://image.msscdn.net/images/category_img/men/ITEM_002003_17507315864734_big.png' },
            { name: '스타디움 재킷', img: 'https://image.msscdn.net/images/category_img/men/ITEM_002004_17507445499881_big.png' },
            { name: '나일론/코치 재킷', img: 'https://image.msscdn.net/images/category_img/men/ITEM_002006_17507316032201_big.png' },
            { name: '아노락 재킷', img: 'https://image.msscdn.net/images/category_img/men/ITEM_002019_17507452106494_big.png' },
            { name: '트레이닝 재킷', img: 'https://image.msscdn.net/images/category_img/men/ITEM_002018_17507316514339_big.png' },
            { name: '환절기 코트', img: 'https://image.msscdn.net/images/category_img/men/ITEM_002008_17507315579695_big.png' },
            { name: '사파리/헌팅 재킷', img: 'https://image.msscdn.net/images/category_img/men/ITEM_002014_17406370621086_big.png' },
            { name: '배스트', img: 'https://image.msscdn.net/images/category_img/men/ITEM_002021_17507452300951_big.png' },
            { name: '숏패딩/헤비 아우터', img: 'https://image.msscdn.net/images/category_img/men/ITEM_002012_17507314961474_big.png' },
            { name: '무스탕/퍼', img: 'https://image.msscdn.net/images/category_img/men/ITEM_002025_17507316979723_big.png' },
            { name: '플리스/뽀글이', img: 'https://image.msscdn.net/images/category_img/men/ITEM_002023_17507317138879_big.png' },
            { name: '겨울 싱글 코트', img: 'https://image.msscdn.net/images/category_img/men/ITEM_002007_17507316184029_big.png' },
            { name: '겨울 더블 코트', img: 'https://image.msscdn.net/images/category_img/men/ITEM_002024_17507314809429_big.png' },
            { name: '겨울 기타 코트', img: 'https://image.msscdn.net/images/category_img/men/ITEM_002009_17507317299068_big.png' },
            { name: '롱패딩/헤비 아우터', img: 'https://image.msscdn.net/images/category_img/men/ITEM_002013_17406370615373_big.png' },
            { name: '패딩 베스트', img: 'https://image.msscdn.net/images/category_img/men/ITEM_002016_17507315299254_big.png' },
            { name: '기타 아우터', img: 'https://image.msscdn.net/images/category_img/men/ITEM_002015_17507451906782_big.png' },
         ],
      },
      {
         name: '바지',
         children: [
            { name: '신상', img: 'https://image.msscdn.net/images/category_img/men/ITEM_001_17406386410449_big.png' },
            { name: '무배당발', img: 'https://image.msscdn.net/display/images/common/2025/05/26/4e9cf13f96f94a26b5de2f9d359da9cb.png' },
            { name: '데님 팬츠', img: 'https://image.msscdn.net/images/category_img/men/ITEM_003002_17507314142647_big.png' },
            { name: '트레이닝/조거 팬츠', img: 'https://image.msscdn.net/images/category_img/men/ITEM_003004_17507314432499_big.png' },
            { name: '코튼 팬츠', img: 'https://image.msscdn.net/images/category_img/men/ITEM_003007_17507313979643_big.png' },
            { name: '슈트팬츠/슬랙스', img: 'https://image.msscdn.net/images/category_img/men/ITEM_003008_17507314295080_big.png' },
            { name: '숏 팬츠', img: 'https://image.msscdn.net/images/category_img/men/ITEM_003009_17507313694600_big.png' },
            { name: '레깅스', img: 'https://image.msscdn.net/images/category_img/men/ITEM_003005_17507313838437_big.png' },
            { name: '점프 슈트/오버올', img: 'https://image.msscdn.net/images/category_img/men/ITEM_003010_17406370745921_big.png' },
            { name: '기타하의', img: 'https://image.msscdn.net/images/category_img/men/ITEM_003006_17507314570976_big.png' },
         ],
      },
      {
         name: '원피스/스커트',
         children: [
            { name: '신상', img: 'https://image.msscdn.net/images/category_img/men/ITEM_001_17406386410449_big.png' },
            { name: '무배당발', img: 'https://image.msscdn.net/display/images/common/2025/05/26/4e9cf13f96f94a26b5de2f9d359da9cb.png' },
            { name: '미니원피스', img: 'https://image.msscdn.net/images/category_img/women/ITEM_100001_17471145316486_big.png' },
            { name: '미디원피스', img: 'https://image.msscdn.net/images/category_img/women/ITEM_100002_17471145801936_big.png' },
            { name: '맥시원피스', img: 'https://image.msscdn.net/images/category_img/women/ITEM_100003_17472180356125_big.png' },
            { name: '미니스커트', img: 'https://image.msscdn.net/images/category_img/women/ITEM_100004_17471145472175_big.png' },
            { name: '미디스커트', img: 'https://image.msscdn.net/images/category_img/women/ITEM_100005_17471145629161_big.png' },
            { name: '롱스커트', img: 'https://image.msscdn.net/images/category_img/women/ITEM_100006_17471145959834_big.png' },
         ],
      },
      {
         name: '가방',
         children: [
            { name: '신상', img: 'https://image.msscdn.net/images/category_img/men/ITEM_001_17406386410449_big.png' },
            { name: '무배당발', img: 'https://image.msscdn.net/display/images/common/2025/05/26/4e9cf13f96f94a26b5de2f9d359da9cb.png' },
            { name: '메신저/크로스 백', img: 'https://image.msscdn.net/images/category_img/men/ITEM_004002_17507312481259_big.png' },
            { name: '숄더백', img: 'https://image.msscdn.net/images/category_img/men/ITEM_004003_17507312779651_big.png' },
            { name: '백팩', img: 'https://image.msscdn.net/images/category_img/men/ITEM_004001_17507311590140_big.png' },
            { name: '토트백', img: 'https://image.msscdn.net/images/category_img/men/ITEM_004015_17507312043860_big.png' },
            { name: '에코백', img: 'https://image.msscdn.net/images/category_img/men/ITEM_004014_17507312187434_big.png' },
            { name: '보스턴/더플백', img: 'https://image.msscdn.net/images/category_img/men/ITEM_004006_17507445822425_big.png' },
            { name: '웨이스트 백', img: 'https://image.msscdn.net/images/category_img/men/ITEM_004007_17406370782113_big.png' },
            { name: '파우치 백', img: 'https://image.msscdn.net/images/category_img/men/ITEM_004013_17406370808336_big.png' },
            { name: '브리프 케이스', img: 'https://image.msscdn.net/images/category_img/men/ITEM_004008_17507311891388_big.png' },
            { name: '캐리어', img: 'https://image.msscdn.net/images/category_img/men/ITEM_004009_17507312912867_big.png' },
            { name: '가방 소품', img: 'https://image.msscdn.net/images/category_img/men/ITEM_004012_17507311747371_big.png' },
            { name: '지갑/머니클립', img: 'https://image.msscdn.net/images/category_img/men/ITEM_004016_17507312632012_big.png' },
            { name: '클러치 백', img: 'https://image.msscdn.net/images/category_img/men/ITEM_004005_17507312344639_big.png' },
         ],
      },
      {
         name: '패션소품',
         children: [
            { name: '신상', img: 'https://image.msscdn.net/images/category_img/men/ITEM_001_17406386410449_big.png' },
            { name: '무배당발', img: 'https://image.msscdn.net/display/images/common/2025/05/26/4e9cf13f96f94a26b5de2f9d359da9cb.png' },
            { name: '모자', img: 'https://image.msscdn.net/images/category_img/men/ITEM_101001_17507311001782_big.png' },
            { name: '머플러', img: 'https://image.msscdn.net/images/category_img/men/ITEM_101008_17507310722781_big.png' },
            { name: '주얼리', img: 'https://image.msscdn.net/images/category_img/men/ITEM_101006_17507310866668_big.png' },
            { name: '양말/레그웨어', img: 'https://image.msscdn.net/images/category_img/men/ITEM_101002_17507311145593_big.png' },
            { name: '선글라스/안경테', img: 'https://image.msscdn.net/images/category_img/men/ITEM_101003_17507311310185_big.png' },
            { name: '액세서리', img: 'https://image.msscdn.net/images/category_img/men/ITEM_101004_17507310577633_big.png' },
            { name: '시계', img: 'https://image.msscdn.net/images/category_img/men/ITEM_101005_17406371060772_big.png' },
            { name: '벨트', img: 'https://image.msscdn.net/images/category_img/men/ITEM_101007_17507310418760_big.png' },
         ],
      },
      {
         name: '속옷/홈웨어',
         children: [
            { name: '신상', img: 'https://image.msscdn.net/images/category_img/men/ITEM_001_17406386410449_big.png' },
            { name: '무배당발', img: 'https://image.msscdn.net/display/images/common/2025/05/26/4e9cf13f96f94a26b5de2f9d359da9cb.png' },
            { name: '홈웨어', img: 'https://image.msscdn.net/images/category_img/men/ITEM_026005_17406371029233_big.png' },
            { name: '여성 속옷 상의', img: 'https://image.msscdn.net/images/category_img/men/ITEM_026001_17406371007241_big.png' },
            { name: '여성 속옷 하의', img: 'https://image.msscdn.net/images/category_img/men/ITEM_026002_17406371012940_big.png' },
            { name: '여성 속옷 세트', img: 'https://image.msscdn.net/images/category_img/men/ITEM_026003_17406371019016_big.png' },
            { name: '남성 속옷', img: 'https://image.msscdn.net/images/category_img/men/ITEM_026004_17406371023565_big.png' },
         ],
      },
      {
         name: '슈즈',
         children: [
            { name: '신상', img: 'https://image.msscdn.net/images/category_img/men/ITEM_001_17406386410449_big.png' },
            { name: '무배당발', img: 'https://image.msscdn.net/display/images/common/2025/05/26/4e9cf13f96f94a26b5de2f9d359da9cb.png' },
            { name: '스니커즈', img: 'https://image.msscdn.net/images/category_img/men/ITEM_103004_17406371131039_big.png' },
            { name: '패딩/퍼 신발', img: 'https://image.msscdn.net/images/category_img/men/ITEM_103007_17406371148471_big.png' },
            { name: '부츠/워커', img: 'https://image.msscdn.net/images/category_img/men/ITEM_103002_17406371117412_big.png' },
            { name: '구두', img: 'https://image.msscdn.net/images/category_img/men/ITEM_103001_17406371111597_big.png' },
            { name: '샌들/슬리퍼', img: 'https://image.msscdn.net/images/category_img/men/ITEM_103003_17406371123858_big.png' },
            { name: '스포츠화', img: 'https://image.msscdn.net/images/category_img/men/ITEM_103005_17406371136972_big.png' },
            { name: '신발용품', img: 'https://image.msscdn.net/images/category_img/men/ITEM_103006_17507444120134_big.png' },
         ],
      },
      {
         name: '디지털/라이프',
         children: [
            { name: '신상', img: 'https://image.msscdn.net/images/category_img/men/ITEM_001_17406386410449_big.png' },
            { name: '무배당발', img: 'https://image.msscdn.net/display/images/common/2025/05/26/4e9cf13f96f94a26b5de2f9d359da9cb.png' },
            { name: '디지털/가전', img: 'https://image.msscdn.net/images/category_img/men/ITEM_102001_17406371082432_big.png' },
            { name: '컬쳐/취미/소품', img: 'https://image.msscdn.net/images/category_img/men/ITEM_102004_17406371100453_big.png' },
            { name: '가구/인테리어', img: 'https://image.msscdn.net/images/category_img/men/ITEM_102002_17406371088212_big.png' },
            { name: '생활/주방', img: 'https://image.msscdn.net/images/category_img/men/ITEM_102003_17406371093946_big.png' },
            { name: '반려동물', img: 'https://image.msscdn.net/images/category_img/men/ITEM_102005_17406371106876_big.png' },
            { name: '푸드/음료', img: 'https://image.msscdn.net/images/category_img/men/ITEM_102006_17478935808421_big.png' },
         ],
      },
   ],
   service: [
      {
         name: '마이페이지',
         children: [
            { name: '주문내역' },
            { name: '리뷰' },
            { name: '취소/교환/반품' },
            { name: '이벤트 회원혜택' },
            { name: '리서치참여' },
            { name: '체험단신청' },
            { name: '래플응모내역' },
            { name: '크리에이터 마켓플레이스' },
            { name: '무신사 큐레이터 서비스' },
            { name: '무신사머니/머니 상품권 등록' },
            { name: '무신사페이 관리' },
            { name: '무신사 현대카드 할인 정보' },
         ],
      },
      {
         name: '고객센터',
         children: [{ name: '문의하기' }, { name: 'FAQ' }, { name: '운영정책' }, { name: '공지사항' }],
      },
      {
         name: '설정',
         children: [{ name: '문의하기' }, { name: 'FAQ' }, { name: '운영정책' }, { name: '공지사항' }],
      },
   ],
}

document.addEventListener('DOMContentLoaded', () => {
   const toggleBtn = document.getElementById('searchToggleBtn')
   const slide = document.getElementById('searchSlide')
   const closeBtn = document.getElementById('closeSearchBtn')
   toggleBtn.addEventListener('click', () => {
      slide.classList.add('show')
      toggleBtn.classList.add('hide')
   })
   closeBtn.addEventListener('click', () => {
      slide.classList.remove('show') // scaleX(0)으로 줄어듦
      toggleBtn.classList.remove('hide') // 닫힌 후 버튼 다시
   })
})
document.addEventListener('DOMContentLoaded', () => {
   const hamburgerBtn = document.getElementById('hamburgerBtn')
   const menuModal = document.getElementById('menuModal')
   const overlay = document.querySelector('.overlay')
   const closeBtn = document.querySelector('.modal-close')
   const tabs = document.querySelectorAll('.tab')
   const headerList = document.getElementById('headerList')
   const cardContainer = document.getElementById('hoverCards')
   const body = document.body
   let currentTab = 'category'
   // 햄버거 클릭
   hamburgerBtn.addEventListener('click', () => {
      menuModal.classList.remove('hide')
      menuModal.classList.add('show')
      body.classList.add('no-scroll')
      setActiveTab('category')
      renderHeaderList('category')
      renderCards('category', '상의')
   })
   // 닫기
   const closeMenu = () => {
      menuModal.classList.remove('show')
      menuModal.classList.add('hide')
      body.classList.remove('no-scroll')
   }
   closeBtn.addEventListener('click', closeMenu)
   overlay.addEventListener('click', closeMenu)

   // 탭 클릭
   tabs.forEach((tab) => {
      tab.addEventListener('click', () => {
         const target = tab.getAttribute('data-target')
         renderHeaderList(target)
         setActiveTab(target)
         // 탭 누르면 name 첫 번째 기준으로 자동 렌더링
         if (data[target] && data[target][0]) {
            renderCards(target, data[target][0].name)
         }
      })
   })
   function setActiveTab(target) {
      tabs.forEach((t) => t.classList.remove('active'))
      document.querySelector(`.tab[data-target="${target}"]`).classList.add('active')
      currentTab = target
   }
   function renderHeaderList(target) {
      headerList.innerHTML = ''
      data[target].forEach((item) => {
         const li = document.createElement('li')
         li.textContent = item.name
         // 기본 선택 (예: '상의')
         if ((target === 'category' && item.name === '상의') || (target === 'service' && item.name === data[target][0].name)) {
            li.classList.add('active-name')
         }
         li.addEventListener('click', (e) => {
            // 기존 active 제거
            const allItems = headerList.querySelectorAll('li')
            allItems.forEach((el) => el.classList.remove('active-name'))
            // 클릭한 li에 active 추가
            li.classList.add('active-name')
            // 카드 렌더링
            renderCards(target, item.name)
         })
         headerList.appendChild(li)
      })
   }
   function renderCards(tabType, name) {
      const selected = data[tabType].find((item) => item.name === name)
      cardContainer.innerHTML = ''
      const cardList = document.createElement('div')
      cardList.className = 'hover-card-list'
      selected.children.forEach((child) => {
         const card = document.createElement('div')
         card.className = 'hover-card'
         // 카테고리는 이미지 + 텍스트 / 서비스는 텍스트만
         if (tabType === 'category') {
            card.innerHTML = `
         <div style="height: 120px;">
           <img src="${child.img}" alt="${child.name}" />
           <p style="font-size:14px; ">${child.name}</p>
         </div>
         `
         } else if (tabType === 'service') {
            card.innerHTML = `
              <p style="width: 130px; height: 40px;">${child.name}</p>
         `
            card.style.padding = '20px'
            card.style.background = '#f3f3f3'
         }
         cardList.appendChild(card)
      })
      cardContainer.appendChild(cardList)
   }
   // 슬라이드 버튼
   document.querySelector('.slide-prev').addEventListener('click', () => {
      cardContainer.scrollBy({ left: -300, behavior: 'smooth' })
   })
   document.querySelector('.slide-next').addEventListener('click', () => {
      cardContainer.scrollBy({ left: 300, behavior: 'smooth' })
   })
})
