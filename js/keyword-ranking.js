const keywordData = {
   keywords: [
      {
         name: '쿨탠다드 990원',
         children: [
            { id: 1, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드1', name: '상품1', price: '19,000원', sale: '10%' },
            { id: 2, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드2', name: '상품2', price: '29,000원', sale: '20%' },
            { id: 3, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드3', name: '상품3', price: '39,000원', sale: '15%' },
            { id: 4, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드4', name: '상품4', price: '49,000원', sale: '30%' },
            { id: 5, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드5', name: '상품5', price: '59,000원', sale: '25%' },
            { id: 6, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드6', name: '상품6', price: '69,000원', sale: '18%' },
            { id: 7, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드7', name: '상품7', price: '79,000원', sale: '22%' },
            { id: 8, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드8', name: '상품8', price: '89,000원', sale: '12%' },
         ],
      },
      {
         name: '멤버스데이',
         children: [
            { id: 1, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드1', name: '상품1', price: '19,000원', sale: '10%' },
            { id: 2, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드2', name: '상품2', price: '29,000원', sale: '20%' },
            { id: 3, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드3', name: '상품3', price: '39,000원', sale: '15%' },
            { id: 4, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드4', name: '상품4', price: '49,000원', sale: '30%' },
            { id: 5, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드5', name: '상품5', price: '59,000원', sale: '25%' },
            { id: 6, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드6', name: '상품6', price: '69,000원', sale: '18%' },
            { id: 7, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드7', name: '상품7', price: '79,000원', sale: '22%' },
            { id: 8, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드8', name: '상품8', price: '89,000원', sale: '12%' },
         ],
      },
      {
         name: '무배당발',
         children: [
            { id: 1, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드1', name: '상품1', price: '19,000원', sale: '10%' },
            { id: 2, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드2', name: '상품2', price: '29,000원', sale: '20%' },
            { id: 3, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드3', name: '상품3', price: '39,000원', sale: '15%' },
            { id: 4, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드4', name: '상품4', price: '49,000원', sale: '30%' },
            { id: 5, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드5', name: '상품5', price: '59,000원', sale: '25%' },
            { id: 6, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드6', name: '상품6', price: '69,000원', sale: '18%' },
            { id: 7, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드7', name: '상품7', price: '79,000원', sale: '22%' },
            { id: 8, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드8', name: '상품8', price: '89,000원', sale: '12%' },
         ],
      },
      {
         name: '체험단',
         children: [
            { id: 1, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드1', name: '상품1', price: '19,000원', sale: '10%' },
            { id: 2, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드2', name: '상품2', price: '29,000원', sale: '20%' },
            { id: 3, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드3', name: '상품3', price: '39,000원', sale: '15%' },
            { id: 4, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드4', name: '상품4', price: '49,000원', sale: '30%' },
            { id: 5, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드5', name: '상품5', price: '59,000원', sale: '25%' },
            { id: 6, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드6', name: '상품6', price: '69,000원', sale: '18%' },
            { id: 7, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드7', name: '상품7', price: '79,000원', sale: '22%' },
            { id: 8, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드8', name: '상품8', price: '89,000원', sale: '12%' },
         ],
      },
      {
         name: '990 딜',
         children: [
            { id: 1, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드1', name: '상품1', price: '19,000원', sale: '10%' },
            { id: 2, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드2', name: '상품2', price: '29,000원', sale: '20%' },
            { id: 3, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드3', name: '상품3', price: '39,000원', sale: '15%' },
            { id: 4, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드4', name: '상품4', price: '49,000원', sale: '30%' },
            { id: 5, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드5', name: '상품5', price: '59,000원', sale: '25%' },
            { id: 6, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드6', name: '상품6', price: '69,000원', sale: '18%' },
            { id: 7, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드7', name: '상품7', price: '79,000원', sale: '22%' },
            { id: 8, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드8', name: '상품8', price: '89,000원', sale: '12%' },
         ],
      },
      {
         name: '타임세일',
         children: [
            { id: 1, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드1', name: '상품1', price: '19,000원', sale: '10%' },
            { id: 2, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드2', name: '상품2', price: '29,000원', sale: '20%' },
            { id: 3, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드3', name: '상품3', price: '39,000원', sale: '15%' },
            { id: 4, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드4', name: '상품4', price: '49,000원', sale: '30%' },
            { id: 5, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드5', name: '상품5', price: '59,000원', sale: '25%' },
            { id: 6, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드6', name: '상품6', price: '69,000원', sale: '18%' },
            { id: 7, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드7', name: '상품7', price: '79,000원', sale: '22%' },
            { id: 8, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드8', name: '상품8', price: '89,000원', sale: '12%' },
         ],
      },
      {
         name: '월간 입점회',
         children: [
            { id: 1, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드1', name: '상품1', price: '19,000원', sale: '10%' },
            { id: 2, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드2', name: '상품2', price: '29,000원', sale: '20%' },
            { id: 3, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드3', name: '상품3', price: '39,000원', sale: '15%' },
            { id: 4, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드4', name: '상품4', price: '49,000원', sale: '30%' },
            { id: 5, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드5', name: '상품5', price: '59,000원', sale: '25%' },
            { id: 6, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드6', name: '상품6', price: '69,000원', sale: '18%' },
            { id: 7, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드7', name: '상품7', price: '79,000원', sale: '22%' },
            { id: 8, img: 'https://image.msscdn.net/images/category_img/men/ITEM_001004_17507308943066_big.png', brand: '브랜드8', name: '상품8', price: '89,000원', sale: '12%' },
         ],
      },
   ],
}

const keywordList = document.getElementById('keywordList')
const track = document.getElementById('rankingCardTrack')
const keywordprevBtn = document.getElementById('rankingPrevBtn')
const keywordnextBtn = document.getElementById('rankingNextBtn')
let crntSlide = 0
let activeChildren = []
function renderKeywords() {
   keywordData.keywords.forEach((item, idx) => {
      const btn = document.createElement('div')
      btn.className = 'keyword-btn'
      btn.textContent = item.name
      btn.addEventListener('click', () => {
         document.querySelectorAll('.keyword-btn').forEach((el) => el.classList.remove('active'))
         btn.classList.add('active')
         crntSlide = 0
         activeChildren = item.children
         renderCards()
      })
      if (idx === 0) btn.classList.add('active')
      keywordList.appendChild(btn)
   })
   // 초기 렌더
   activeChildren = keywordData.keywords[0].children
   renderCards()
}
function renderCards() {
   const groupSize = 8 // 2행 × 4열
   const groups = Math.ceil(activeChildren.length / groupSize)
   track.innerHTML = ''
   for (let i = 0; i < groups; i++) {
      const group = document.createElement('div')
      group.className = 'rankingcard-group'
      const slice = activeChildren.slice(i * groupSize, (i + 1) * groupSize)
      slice.forEach((card) => {
         const el = document.createElement('div')
         el.className = 'rankingcard'
         el.innerHTML = `
        <img src="${card.img}" alt="${card.name}" />
        <p class="brand">${card.brand}</p>
        <p class="name">${card.name}</p>
        <div class="price">
          <span class="sale">${card.sale}</span>
          <span class="amount">${card.price}</span>
        </div>
      `
         group.appendChild(el)
      })
      track.appendChild(group)
   }
   updateSlider()
}
function updateSlider() {
   const group = document.querySelector('.rankingcard-group')
   if (!group) return
   const groupWidth = group.offsetWidth
   track.style.transform = `translateX(-${currentSlide * groupWidth}px)`
   // 버튼 상태 업데이트 (옵션)
   prevBtn.disabled = currentSlide === 0
   nextBtn.disabled = currentSlide >= track.children.length - 1
}
// 버튼 이벤트
keywordprevBtn.addEventListener('click', () => {
   if (currentSlide > 0) currentSlide--
   updateSlider()
})
keywordnextBtn.addEventListener('click', () => {
   const maxSlide = track.children.length - 1
   if (currentSlide < maxSlide) currentSlide++
   updateSlider()
})
window.addEventListener('resize', updateSlider)
// 실행
renderKeywords()
